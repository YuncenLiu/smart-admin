import{_ as e}from"./lodash-2VbGH-WW.js";import{t as a}from"./index-CBkxY9s9.js";import{d as t,r as l,e as o,b2 as r,ag as n,o as d,u}from"./@vue-BVvo-xZd.js";const p=t({__name:"help-doc-catalog-tree-select",props:{value:Number,multiple:{type:Boolean,default:!1}},emits:["update:value"],setup(t,{expose:p,emit:s}){const c=t,i=s;let h=l([]);async function m(){let e=g((await a.getAll()).data,0);h.value=e}function g(a,t){let l=a.filter((e=>e.parentId===t))||[];return l=e.sortBy(l,(e=>e.sort)),l.forEach((e=>{e.children=g(a,e.helpDocCatalogId)})),function(e){for(let a=0;a<e.length;a++)0!==a?a!==e.length-1?(e[a].preId=e[a-1].helpDocCatalogId,e[a].nextId=e[a+1].helpDocCatalogId):(e[a].preId=e[a-1].helpDocCatalogId,e[a].nextId=void 0):e[a].nextId=e.length>1?e[1].helpDocCatalogId:void 0}(l),l}function f(e){i("update:value",e)}return o(m),p({queryCatalogTree:m}),(e,a)=>{const t=r("a-tree-select");return d(),n(t,{value:c.value,treeData:u(h),fieldNames:{label:"name",key:"helpDocCatalogId",value:"helpDocCatalogId"},"show-search":"",style:{width:"100%"},"dropdown-style":{maxHeight:"400px",overflow:"auto"},placeholder:"请选择目录","allow-clear":"","tree-default-expand-all":"",multiple:c.multiple,onChange:f},null,8,["value","treeData","multiple"])}}});export{p as _};
