import{d as e,r as t,e as s,b2 as a,b as o,o as r,c as i,bz as n,ah as l,ag as p,ai as u,be as c,y as m,E as d,J as v,u as j,F as h}from"./@vue-BVvo-xZd.js";import{a as f}from"./vue-router-D-yLC68c.js";import y from"./help-doc-view-record-list-BVe5ABZb.js";import{S as b,v as _,s as w,a as g}from"./index-CBkxY9s9.js";import{_ as x}from"./index.vue_vue_type_script_setup_true_lang-dcAvOOdY.js";import"./ua-parser-js-DNXwZhEt.js";import"./@ant-design-D2dl84QQ.js";import"./vue-Bbq_A2bw.js";import"./@ctrl-DlzbjsCp.js";import"./ant-design-vue-CcohkicM.js";import"./@babel-rSvM8Ko2.js";import"./resize-observer-polyfill-OVnto9HH.js";import"./@emotion-DXlYAqfy.js";import"./stylis-YutRQeBK.js";import"./vue-types-Sy1fKJ9U.js";import"./dom-align-CCb293uS.js";import"./lodash-es-BgZ_dRTG.js";import"./dayjs-B6vKC6dp.js";import"./async-validator-BTKOuuO-.js";import"./throttle-debounce-w9OM8Bxz.js";import"./lodash-2VbGH-WW.js";import"./vue3-json-viewer-DGFKKWPN.js";import"./vue-i18n-CEbWPeBD.js";import"./@intlify-D18cTrFw.js";import"./pinia-CgN6MZDh.js";import"./axios-BlN9Xwzv.js";import"./crypto-js-TV0Ce7JK.js";import"./sm-crypto-CWaozmhJ.js";import"./jsbn-DBh4-X7k.js";import"./nprogress-CqoNXQnd.js";import"./mitt-CNZ6avp8.js";const D={key:0},L={class:"content-header"},k={class:"content-header-title"},I={class:"content-header-info"},T=["innerHTML"],z={key:2},H=g(e({__name:"help-doc-user-view",setup(e){const g=f();t(1);const H=t({});s((()=>{g.query.helpDocId&&async function(){try{b.show();const e=await _.view(g.query.helpDocId);H.value=e.data,C.value.onSearch()}catch(e){w.captureError(e)}finally{b.hide()}}()}));const C=t();const M=t();function q(){let e=window.document.body.innerHTML,t=e.substr(e.indexOf("\x3c!--startprint--\x3e"));t=t.substring(0,t.indexOf("\x3c!--endprint--\x3e"));let s=window.open("");s.document.body.innerHTML=t,s.document.close(),s.focus(),s.print(),s.close()}return(e,t)=>{const s=a("a-divider"),f=a("a-card");return r(),o(h,null,[i(f,{size:"small",bordered:!1},{default:n((()=>[H.value?(r(),o("div",D,[u("div",L,[u("div",k,c(H.value.title),1),u("div",I,[u("span",null,"阅读量："+c(H.value.pageViewCount),1),m(u("span",null,"作者："+c(H.value.author),513),[[d,H.value.author]]),u("span",null,"发布于："+c(H.value.createTime),1),u("span",null,"修改于："+c(H.value.updateTime),1),u("span",{onClick:q},"【打印本页】")])]),u("div",{class:"content-html",innerHTML:H.value.contentHtml},null,8,T)])):l("",!0),H.value.attachment&&H.value.attachment.length>0?(r(),p(s,{key:1})):l("",!0),H.value.attachment&&H.value.attachment.length>0?(r(),o("div",z,[v("附件："),i(x,{fileList:H.value.attachment},null,8,["fileList"])])):l("",!0)])),_:1}),i(f,{title:"阅读记录",size:"small",class:"smart-margin-top10",bordered:!1},{default:n((()=>[i(y,{ref_key:"helpDocViewRecordListRef",ref:C,helpDocId:j(g).query.helpDocId},null,8,["helpDocId"])])),_:1}),i(x,{ref_key:"filePreviewRef",ref:M},null,512)],64)}}}),[["__scopeId","data-v-b5e3d9c2"]]);export{H as default};
