import{S as a,l as e,s as t}from"./index-CBkxY9s9.js";import{b as l}from"./ant-design-vue-CcohkicM.js";import{d,r,a as o,b2 as s,ag as u,o as n,u as i,bz as c,ai as m,c as p}from"./@vue-BVvo-xZd.js";const f=m("br",null,null,-1),v=d({__name:"dict-data-form-modal",emits:["reloadList"],setup(d,{expose:m,emit:v}){const b=v,h=r(),_={dictId:void 0,dictCode:void 0,dictDataId:void 0,sortOrder:0,dataValue:"",dataLabel:"",remark:""};let g=o({..._});const x={dataValue:[{required:!0,message:"请输入 字典项值"}],dataLabel:[{required:!0,message:"请输入 字典项名称"}],sortOrder:[{required:!0,message:"请输入排序"}]},D=r(!1);function O(){Object.assign(g,_),D.value=!1}function V(){h.value.validate().then((async()=>{a.show();try{g.dictDataId?await e.updateDictData(g):await e.addDictData(g),l.success((g.dictDataId?"修改":"添加")+"成功"),b("reloadList"),O()}catch(d){t.captureError(d)}finally{a.hide()}})).catch((a=>{l.error("参数验证错误，请仔细填写表单数据!")}))}return m({showModal:function(a,e,t){Object.assign(g,_),a&&Object.assign(g,a),g.dictId=e,g.dictCode=t,D.value=!0}}),(a,e)=>{const t=s("a-input"),l=s("a-form-item"),d=s("a-input-number"),r=s("a-textarea"),o=s("a-form"),m=s("a-modal");return n(),u(m,{open:D.value,title:i(g).dictDataId?"编辑字典值":"添加字典值","ok-text":"确认","cancel-text":"取消",onOk:V,onCancel:O},{default:c((()=>[f,p(o,{ref_key:"formRef",ref:h,model:i(g),rules:x,"label-col":{span:5},"wrapper-col":{span:16}},{default:c((()=>[p(l,{label:"字典项名称",name:"dataLabel"},{default:c((()=>[p(t,{value:i(g).dataLabel,"onUpdate:value":e[0]||(e[0]=a=>i(g).dataLabel=a),placeholder:"请输入 字典项名称"},null,8,["value"])])),_:1}),p(l,{label:"字典项值",name:"dataValue"},{default:c((()=>[p(t,{value:i(g).dataValue,"onUpdate:value":e[1]||(e[1]=a=>i(g).dataValue=a),placeholder:"请输入 字典项值"},null,8,["value"])])),_:1}),p(l,{label:"排序",name:"sort",help:"值越大越靠前"},{default:c((()=>[p(d,{style:{width:"100%"},value:i(g).sortOrder,"onUpdate:value":e[2]||(e[2]=a=>i(g).sortOrder=a),min:0,max:1e3},null,8,["value"])])),_:1}),p(l,{label:"备注",name:"remark"},{default:c((()=>[p(r,{modelValue:i(g).remark,"onUpdate:modelValue":e[3]||(e[3]=a=>i(g).remark=a),style:{width:"100%",height:"100px",outline:"none"}},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["open","title"])}}});export{v as _};
