import{r as a}from"./reload-api-CFTcznxZ.js";import{S as e,s as t}from"./index-CBkxY9s9.js";import{b as l}from"./ant-design-vue-CcohkicM.js";import{d as o,r as s,a as n,b2 as r,ag as i,o as d,bz as u,c,u as f}from"./@vue-BVvo-xZd.js";const m=o({__name:"do-reload-form-modal",emits:["refresh"],setup(o,{expose:m,emit:p}){const v=p;m({showModal:function(a){j.tag=a,j.identification="",j.args="",g.value=!0}});const g=s(!1);function h(){Object.assign(j,_),g.value=!1}const b=s(),_={tag:"",identification:"",args:""};let j=n({..._});const x={identification:[{required:!0,message:"请输入运行标识"}],args:[{required:!0,message:"请输入参数值"}]};function y(){b.value.validate().then((async()=>{e.show();try{await a.reload(j),l.success("reload成功"),v("refresh"),h()}catch(o){t.captureError(o)}finally{e.hide()}})).catch((a=>{l.error("参数验证错误，请仔细填写表单数据!")}))}return(a,e)=>{const t=r("a-input"),l=r("a-form-item"),o=r("a-form"),s=r("a-modal");return d(),i(s,{open:g.value,title:"执行Reload","ok-text":"确认","cancel-text":"取消",onOk:y,onCancel:h},{default:u((()=>[c(o,{ref_key:"formRef",ref:b,model:f(j),rules:x,"label-col":{span:5}},{default:u((()=>[c(l,{label:"标签"},{default:u((()=>[c(t,{value:f(j).tag,"onUpdate:value":e[0]||(e[0]=a=>f(j).tag=a),disabled:!0},null,8,["value"])])),_:1}),c(l,{label:"运行标识",name:"identification"},{default:u((()=>[c(t,{value:f(j).identification,"onUpdate:value":e[1]||(e[1]=a=>f(j).identification=a),placeholder:"请输入运行标识"},null,8,["value"])])),_:1}),c(l,{label:"参数",name:"args"},{default:u((()=>[c(t,{value:f(j).args,"onUpdate:value":e[2]||(e[2]=a=>f(j).args=a),placeholder:"请输入参数"},null,8,["value"])])),_:1})])),_:1},8,["model"])])),_:1},8,["open"])}}});export{m as _};
