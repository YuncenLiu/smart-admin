import{f as a,p as e,h as r}from"./index-CBkxY9s9.js";import{d as t,a as l,r as s,b2 as u,b as o,o as m,c as i,ai as n,bz as p,J as y,ah as c,be as f,F as d}from"./@vue-BVvo-xZd.js";import"./ant-design-vue-CcohkicM.js";import"./@babel-rSvM8Ko2.js";import"./@ant-design-D2dl84QQ.js";import"./vue-Bbq_A2bw.js";import"./@ctrl-DlzbjsCp.js";import"./resize-observer-polyfill-OVnto9HH.js";import"./@emotion-DXlYAqfy.js";import"./stylis-YutRQeBK.js";import"./vue-types-Sy1fKJ9U.js";import"./dom-align-CCb293uS.js";import"./lodash-es-BgZ_dRTG.js";import"./dayjs-B6vKC6dp.js";import"./async-validator-BTKOuuO-.js";import"./throttle-debounce-w9OM8Bxz.js";import"./lodash-2VbGH-WW.js";import"./vue3-json-viewer-DGFKKWPN.js";import"./vue-i18n-CEbWPeBD.js";import"./@intlify-D18cTrFw.js";import"./pinia-CgN6MZDh.js";import"./axios-BlN9Xwzv.js";import"./crypto-js-TV0Ce7JK.js";import"./sm-crypto-CWaozmhJ.js";import"./jsbn-DBh4-X7k.js";import"./nprogress-CqoNXQnd.js";import"./vue-router-D-yLC68c.js";import"./mitt-CNZ6avp8.js";const v=e=>a("/support/apiEncrypt/testRequestEncrypt",e),_=a=>e("/support/apiEncrypt/testResponseEncrypt",a),j=e=>a("/support/apiEncrypt/testDecryptAndEncrypt",e),q=e=>a("/support/apiEncrypt/testArray",e),b=n("h4",null,"接口加解密：",-1),g=n("pre",null,"简介：接口加解密分为： 前端请求参数加解密 和 后端返回结果加解密。\n\n- 支持国密SM、AES加密算法。前端修改:/lib/encrypt.js文件，后端：启动 ApiEncryptServiceAesImpl 或者 ApiEncryptServiceSmImpl\n- 前端请看：/lib/encrypt.js、/lib/axios.js  /api/support/api-encrypt/api-encrypt-api.js 等文件\n- 后端请看：@ApiEncrypt 和 @ApiDecrypt 注解，具体请看 sa-common项目中的 net.lab1024.sa.common.module.support.apiencrypt 包\n- demo请看：前端：/views/support/api-encrypt 目录，后端 请看：sa-admin项目的：net.lab1024.sa.admin.module.system.support.AdminApiEncryptController\n",-1),w=n("br",null,null,-1),k=n("br",null,null,-1),E={key:0},S={key:0},h={key:0},A=n("br",null,null,-1),D={key:0},J={key:0},O={key:0},N=n("br",null,null,-1),x={key:0},C={key:0},U={key:0},z={key:0},I=n("br",null,null,-1),M={key:0},R={key:0},F={key:0},B={key:0},G=t({__name:"api-encrypt-index",setup(a){const e=l({age:100,name:"卓大"}),t=s(""),n=s(""),G=s("");async function H(){t.value=JSON.stringify(e),n.value=r(e);const a=await v(e);G.value=JSON.stringify(a.data)}const K=l({age:100,name:"卓大"}),L=s(""),P=s(""),Q=s("");async function T(){L.value=JSON.stringify(K);const a=await _(K);P.value=a.encryptData,Q.value=JSON.stringify(a.data)}const V=l({age:100,name:"卓大"}),W=s(""),X=s(""),Y=s(""),Z=s("");async function $(){W.value=JSON.stringify(V),X.value=r(V);const a=await j(V);Y.value=a.encryptData,Z.value=JSON.stringify(a.data)}const aa=l([{age:1,name:"卓1"},{age:2,name:"卓2"},{age:3,name:"卓3"}]),ea=s(""),ra=s(""),ta=s(""),la=s("");async function sa(){ea.value=JSON.stringify(aa),ra.value=r(aa);const a=await q(aa);ta.value=a.encryptData,la.value=JSON.stringify(a.data)}return(a,r)=>{const l=u("a-alert"),s=u("a-input"),v=u("a-form-item"),_=u("a-input-number"),j=u("a-button"),q=u("a-row"),aa=u("a-form"),ua=u("a-card");return m(),o(d,null,[i(l,{closable:""},{message:p((()=>[b])),description:p((()=>[g])),_:1}),w,i(l,{message:"当前加密算法为：SM4，若想改为 AES，前端请修改 'lib/encrypt.js'文件中的EncryptObject，后端请修改 ApiEncryptService 的实现类",type:"error"}),k,i(ua,{title:"一、请求加密 Demo"},{default:p((()=>[i(aa,{class:"smart-query-form"},{default:p((()=>[i(q,{class:"smart-query-form-row"},{default:p((()=>[i(v,{label:"姓名",class:"smart-query-form-item"},{default:p((()=>[i(s,{value:e.name,"onUpdate:value":r[0]||(r[0]=a=>e.name=a),placeholder:"姓名"},null,8,["value"])])),_:1}),i(v,{label:"年龄",class:"smart-query-form-item"},{default:p((()=>[i(_,{value:e.age,"onUpdate:value":r[1]||(r[1]=a=>e.age=a),placeholder:"年龄"},null,8,["value"])])),_:1}),i(v,{class:"smart-query-form-item"},{default:p((()=>[i(j,{type:"primary",onClick:H},{default:p((()=>[y(" 测试：请求加密")])),_:1})])),_:1})])),_:1}),i(q,{class:"smart-query-form-row"},{default:p((()=>[t.value?(m(),o("div",E,"请求参数："+f(t.value),1)):c("",!0)])),_:1}),i(q,{class:"smart-query-form-row"},{default:p((()=>[n.value?(m(),o("div",S,"请求参数加密："+f(n.value),1)):c("",!0)])),_:1}),i(q,{class:"smart-query-form-row"},{default:p((()=>[G.value?(m(),o("div",h,"返回结果（不加密）："+f(G.value),1)):c("",!0)])),_:1})])),_:1})])),_:1}),A,i(ua,{title:"二、返回加密 Demo"},{default:p((()=>[i(aa,{class:"smart-query-form"},{default:p((()=>[i(q,{class:"smart-query-form-row"},{default:p((()=>[i(v,{label:"姓名",class:"smart-query-form-item"},{default:p((()=>[i(s,{value:K.name,"onUpdate:value":r[2]||(r[2]=a=>K.name=a),placeholder:"姓名"},null,8,["value"])])),_:1}),i(v,{label:"年龄",class:"smart-query-form-item"},{default:p((()=>[i(_,{value:K.age,"onUpdate:value":r[3]||(r[3]=a=>K.age=a),placeholder:"年龄"},null,8,["value"])])),_:1}),i(v,{class:"smart-query-form-item"},{default:p((()=>[i(j,{type:"primary",onClick:T},{default:p((()=>[y(" 测试：返回加密 ")])),_:1})])),_:1})])),_:1}),i(q,{class:"smart-query-form-row"},{default:p((()=>[L.value?(m(),o("div",D,"请求参数： "+f(L.value),1)):c("",!0)])),_:1}),i(q,{class:"smart-query-form-row"},{default:p((()=>[P.value?(m(),o("div",J,"返回结果："+f(P.value),1)):c("",!0)])),_:1}),i(q,{class:"smart-query-form-row"},{default:p((()=>[Q.value?(m(),o("div",O,"返回结果 解密："+f(Q.value),1)):c("",!0)])),_:1})])),_:1})])),_:1}),N,i(ua,{title:"三、请求和返回都加密 Demo"},{default:p((()=>[i(aa,{class:"smart-query-form"},{default:p((()=>[i(q,{class:"smart-query-form-row"},{default:p((()=>[i(v,{label:"姓名",class:"smart-query-form-item"},{default:p((()=>[i(s,{value:V.name,"onUpdate:value":r[4]||(r[4]=a=>V.name=a),placeholder:"姓名"},null,8,["value"])])),_:1}),i(v,{label:"年龄",class:"smart-query-form-item"},{default:p((()=>[i(_,{value:V.age,"onUpdate:value":r[5]||(r[5]=a=>V.age=a),placeholder:"年龄"},null,8,["value"])])),_:1}),i(v,{class:"smart-query-form-item"},{default:p((()=>[i(j,{type:"primary",onClick:$},{default:p((()=>[y(" 测试：请求和返回都加密 ")])),_:1})])),_:1})])),_:1}),i(q,{class:"smart-query-form-row"},{default:p((()=>[W.value?(m(),o("div",x,"请求参数： "+f(W.value),1)):c("",!0)])),_:1}),i(q,{class:"smart-query-form-row"},{default:p((()=>[X.value?(m(),o("div",C,"请求参数加密： "+f(X.value),1)):c("",!0)])),_:1}),i(q,{class:"smart-query-form-row"},{default:p((()=>[Y.value?(m(),o("div",U,"返回结果："+f(Y.value),1)):c("",!0)])),_:1}),i(q,{class:"smart-query-form-row"},{default:p((()=>[Z.value?(m(),o("div",z,"返回结果 解密："+f(Z.value),1)):c("",!0)])),_:1})])),_:1})])),_:1}),I,i(ua,{title:"四、测试数组 Demo"},{default:p((()=>[i(aa,{class:"smart-query-form"},{default:p((()=>[i(q,{class:"smart-query-form-row"},{default:p((()=>[i(v,{class:"smart-query-form-item"},{default:p((()=>[i(j,{type:"primary",onClick:sa},{default:p((()=>[y(" 测试：数组加解密 ")])),_:1})])),_:1})])),_:1}),i(q,{class:"smart-query-form-row"},{default:p((()=>[ea.value?(m(),o("div",M,"请求参数： "+f(ea.value),1)):c("",!0)])),_:1}),i(q,{class:"smart-query-form-row"},{default:p((()=>[ra.value?(m(),o("div",R,"请求参数加密： "+f(ra.value),1)):c("",!0)])),_:1}),i(q,{class:"smart-query-form-row"},{default:p((()=>[ta.value?(m(),o("div",F,"返回结果："+f(ta.value),1)):c("",!0)])),_:1}),i(q,{class:"smart-query-form-row"},{default:p((()=>[la.value?(m(),o("div",B,"返回结果 解密："+f(la.value),1)):c("",!0)])),_:1})])),_:1})])),_:1})],64)}}});export{G as default};
