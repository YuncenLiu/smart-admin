import e from"./default-home-card-CNNX1QVr.js";import{_ as t}from"./to-be-done-modal.vue_vue_type_script_setup_true_lang-qPML8b8a.js";import{K as o,O as s,R as a,A as l,a as n}from"./index-CBkxY9s9.js";import{M as i}from"./ant-design-vue-CcohkicM.js";import{d as c,r,e as d,m as u,b2 as p,b as m,o as f,F as v,c as g,bz as j,ai as k,ag as y,ah as h,u as _,b0 as F,aP as O,be as b}from"./@vue-BVvo-xZd.js";import"./@babel-rSvM8Ko2.js";import"./@ant-design-D2dl84QQ.js";import"./vue-Bbq_A2bw.js";import"./@ctrl-DlzbjsCp.js";import"./resize-observer-polyfill-OVnto9HH.js";import"./@emotion-DXlYAqfy.js";import"./stylis-YutRQeBK.js";import"./vue-types-Sy1fKJ9U.js";import"./dom-align-CCb293uS.js";import"./lodash-es-BgZ_dRTG.js";import"./dayjs-B6vKC6dp.js";import"./async-validator-BTKOuuO-.js";import"./throttle-debounce-w9OM8Bxz.js";import"./lodash-2VbGH-WW.js";import"./vue3-json-viewer-DGFKKWPN.js";import"./vue-i18n-CEbWPeBD.js";import"./@intlify-D18cTrFw.js";import"./pinia-CgN6MZDh.js";import"./axios-BlN9Xwzv.js";import"./crypto-js-TV0Ce7JK.js";import"./sm-crypto-CWaozmhJ.js";import"./jsbn-DBh4-X7k.js";import"./nprogress-CqoNXQnd.js";import"./vue-router-D-yLC68c.js";import"./mitt-CNZ6avp8.js";const C={style:{height:"280px"}},x={class:"center column"},E={class:"task"},D=["onClick"],T={class:"task"},B=["onClick"],N=n(c({__name:"home-to-be-done",setup(n){let c=r([]);d((()=>{!function(){let e=o(s.TO_BE_DONE);e&&(c.value=JSON.parse(e))}()}));let N=u((()=>c.value.filter((e=>!e.doneFlag)))),S=u((()=>c.value.filter((e=>e.doneFlag))));function J(e){a(s.TO_BE_DONE,JSON.stringify(c.value)),l().toBeDoneCount=N.value.length}function w(e){e.starFlag=!e.starFlag;const t=c.value.findIndex((t=>t.title===e.title));if(c.value.splice(t,1),e.starFlag)c.value.unshift(e);else{const t=c.value.findLastIndex((e=>e.starFlag));c.value.splice(t+1,0,e)}a(s.TO_BE_DONE,JSON.stringify(c.value))}let I=r();function U(){I.value.showModal()}function z(e){c.value.push(e),a(s.TO_BE_DONE,JSON.stringify(c.value)),l().toBeDoneCount=N.value.length}function M(e){e.doneFlag?A(e):i.confirm({title:"提示",content:"确定要删除吗?",okText:"删除",okType:"danger",onOk(){A(e)},cancelText:"取消",onCancel(){}})}function A(e){const t=c.value.findIndex((t=>t.title===e.title));c.value.splice(t,1),a(s.TO_BE_DONE,JSON.stringify(c.value)),l().toBeDoneCount=N.value.length}return(o,s)=>{const a=p("a-empty"),l=p("a-checkbox"),n=p("StarFilled"),i=p("StarOutlined"),r=p("close-circle-outlined"),d=p("a-space");return f(),m(v,null,[g(e,{extra:"添加",icon:"StarTwoTone",title:"待办工作",onExtraClick:U},{default:j((()=>[k("div",C,[k("div",x,[g(d,{direction:"vertical",style:{width:"100%"}},{default:j((()=>[o.$lodash.isEmpty(_(c))?(f(),y(a,{key:0,description:"暂无待办工作"})):h("",!0),(f(!0),m(v,null,F(_(N),((e,t)=>(f(),m("div",{key:t,class:O(["to-do",{done:e.doneFlag}])},[g(l,{checked:e.doneFlag,"onUpdate:checked":t=>e.doneFlag=t,onChange:J},{default:j((()=>[k("span",E,b(e.title),1)])),_:2},1032,["checked","onUpdate:checked"]),e.doneFlag?h("",!0):(f(),m("div",{key:0,class:"star-icon",onClick:t=>w(e)},[e.starFlag?(f(),y(n,{key:0,style:{color:"#ff8c00"}})):(f(),y(i,{key:1,style:{color:"#c0c0c0"}}))],8,D)),g(r,{class:"delete-icon",onClick:t=>M(e)},null,8,["onClick"])],2)))),128)),(f(!0),m(v,null,F(_(S),((e,t)=>(f(),m("div",{key:t,class:O(["to-do",{done:e.doneFlag}])},[g(l,{checked:e.doneFlag,"onUpdate:checked":t=>e.doneFlag=t,onChange:J},{default:j((()=>[k("span",T,b(e.title),1)])),_:2},1032,["checked","onUpdate:checked"]),e.doneFlag?h("",!0):(f(),m("div",{key:0,class:"star-icon",onClick:t=>w(e)},[e.starFlag?(f(),y(n,{key:0,style:{color:"#ff8c00"}})):(f(),y(i,{key:1,style:{color:"#c0c0c0"}}))],8,B)),g(r,{class:"delete-icon",onClick:t=>M(e)},null,8,["onClick"])],2)))),128))])),_:1})])])])),_:1}),g(t,{ref_key:"toBeDoneModalRef",ref:I,onAddToBeDone:z},null,512)],64)}}}),[["__scopeId","data-v-bf80b121"]]);export{N as default};
