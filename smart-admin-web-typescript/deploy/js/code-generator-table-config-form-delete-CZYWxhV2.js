import{_ as e}from"./lodash-2VbGH-WW.js";import{_ as t}from"./index.vue_vue_type_script_setup_true_lang-D394UfoC.js";import{o as l,a}from"./index-CBkxY9s9.js";import{b as s}from"./ant-design-vue-CcohkicM.js";import{d as o,i,r,a as u,b2 as d,ag as m,o as n,bz as p,c as f,ah as y,J as v,be as c,u as j,b as _,ai as b,aY as D,aW as g}from"./@vue-BVvo-xZd.js";import"./@ant-design-D2dl84QQ.js";import"./vue-Bbq_A2bw.js";import"./@ctrl-DlzbjsCp.js";import"./vue3-json-viewer-DGFKKWPN.js";import"./dayjs-B6vKC6dp.js";import"./vue-i18n-CEbWPeBD.js";import"./@intlify-D18cTrFw.js";import"./pinia-CgN6MZDh.js";import"./axios-BlN9Xwzv.js";import"./crypto-js-TV0Ce7JK.js";import"./sm-crypto-CWaozmhJ.js";import"./jsbn-DBh4-X7k.js";import"./nprogress-CqoNXQnd.js";import"./vue-router-D-yLC68c.js";import"./mitt-CNZ6avp8.js";import"./@babel-rSvM8Ko2.js";import"./resize-observer-polyfill-OVnto9HH.js";import"./@emotion-DXlYAqfy.js";import"./stylis-YutRQeBK.js";import"./vue-types-Sy1fKJ9U.js";import"./dom-align-CCb293uS.js";import"./lodash-es-BgZ_dRTG.js";import"./async-validator-BTKOuuO-.js";import"./throttle-debounce-w9OM8Bxz.js";const h={key:0,class:"smart-margin-top10"},E={key:0},S={key:1,stlye:"color:red"},P=(e=>(D("data-v-5877d6ef"),e=e(),g(),e))((()=>b("strong",null,"deleted_flag",-1))),x=a(o({__name:"code-generator-table-config-form-delete",setup(a,{expose:o}){const b=i("tableInfo"),D=r(""),g=r(),x=u({isSupportDelete:!0,isPhysicallyDeleted:void 0,deleteEnum:void 0}),N={isSupportDelete:[{required:!0,message:"请输入 isSupportDelete"}],isPhysicallyDeleted:[{required:!0,message:"请输入 是否为物理删除"}],deleteEnum:[{required:!0,message:"请输入 删除类型"}]};return o({setData:function(t,a){let s=function(t){if(!t)return null;let l=t.filter((t=>e.startsWith(t.columnName,"deleted_flag")));return l&&l.length>0?l[0]:null}(t);s&&(D.value=s.columnName);let o=a.deleteInfo;x.isSupportDelete=!o||o.isSupportDelete,x.isPhysicallyDeleted=o&&o.isPhysicallyDeleted?o.isPhysicallyDeleted:!s,x.deleteEnum=o&&o.deleteEnum?o.deleteEnum:l.SINGLE_AND_BATCH.value},getForm:function(){return Object.assign({},x)},validateForm:function(){return new Promise(((e,t)=>{g.value.validate().then((()=>{e(!0)})).catch((e=>{s.error(" 请检查【4.删除】表单，有参数验证错误"),t(e)}))}))}}),(e,l)=>{const a=d("a-form-item"),s=d("a-radio-button"),o=d("a-radio-group"),i=d("a-form");return n(),m(i,{ref_key:"formRef",ref:g,model:x,rules:N,"label-col":{span:6},style:{width:"600px"}},{default:p((()=>[f(a,{label:"数据库表名词"},{default:p((()=>[v(c(j(b).tableName),1)])),_:1}),f(a,{label:"数据库表备注"},{default:p((()=>[v(c(j(b).tableComment),1)])),_:1}),f(a,{label:"是否允许删除",name:"isSupportDelete"},{default:p((()=>[f(o,{value:x.isSupportDelete,"onUpdate:value":l[0]||(l[0]=e=>x.isSupportDelete=e),"button-style":"solid"},{default:p((()=>[f(s,{value:!0},{default:p((()=>[v("支持删除")])),_:1}),f(s,{value:!1},{default:p((()=>[v("不允许删除")])),_:1})])),_:1},8,["value"])])),_:1}),x.isSupportDelete?(n(),m(a,{key:0,label:"是否为物理删除",name:"isPhysicallyDeleted"},{default:p((()=>[f(o,{value:x.isPhysicallyDeleted,"onUpdate:value":l[1]||(l[1]=e=>x.isPhysicallyDeleted=e),"button-style":"solid"},{default:p((()=>[f(s,{value:!0},{default:p((()=>[v("物理删除")])),_:1}),f(s,{value:!1},{default:p((()=>[v("假删")])),_:1})])),_:1},8,["value"]),x.isPhysicallyDeleted?y("",!0):(n(),_("div",h,[D.value?(n(),_("span",E," 假删字段为："+c(D.value),1)):(n(),_("span",S,[v(" 系统未检测出假删字段，假删字段名词应该为 ： "),P]))]))])),_:1})):y("",!0),x.isSupportDelete?(n(),m(a,{key:1,label:"删除类型",name:"deleteEnum"},{default:p((()=>[f(t,{enumName:"CODE_DELETE_ENUM",value:x.deleteEnum,"onUpdate:value":l[2]||(l[2]=e=>x.deleteEnum=e),width:"200px"},null,8,["value"])])),_:1})):y("",!0)])),_:1},8,["model"])}}}),[["__scopeId","data-v-5877d6ef"]]);export{x as default};
