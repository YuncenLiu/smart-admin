import{S as e,l as a,s as t}from"./index-CBkxY9s9.js";import{b as l}from"./ant-design-vue-CcohkicM.js";import{d,r as o,a as s,b2 as i,ag as r,o as n,bz as c,ai as u,c as m,u as p}from"./@vue-BVvo-xZd.js";const f=u("br",null,null,-1),v=d({__name:"dict-form-modal",emits:["reloadList"],setup(d,{expose:u,emit:v}){const b=v,h=o(),_={dictId:void 0,dictCode:"",dictName:"",remark:""};let g=s({..._});const k={dictCode:[{required:!0,message:"请输入编码"}],dictName:[{required:!0,message:"请输入名称"}]},x=o(!1);function j(){Object.assign(g,_),x.value=!1}function w(){h.value.validate().then((async()=>{e.show();try{g.dictId?await a.updateDict(g):await a.addDict(g),l.success((g.dictName?"修改":"添加")+"成功"),b("reloadList"),j()}catch(d){t.captureError(d)}finally{e.hide()}})).catch((e=>{l.error("参数验证错误，请仔细填写表单数据!")}))}return u({showModal:function(e){Object.assign(g,_),e&&Object.assign(g,e),x.value=!0}}),(e,a)=>{const t=i("a-input"),l=i("a-form-item"),d=i("a-textarea"),o=i("a-form"),s=i("a-modal");return n(),r(s,{open:x.value,title:p(g).dictId?"编辑字典":"添加字典","ok-text":"确认","cancel-text":"取消",onOk:w,onCancel:j},{default:c((()=>[f,m(o,{ref_key:"formRef",ref:h,model:p(g),rules:k,"label-col":{span:5},"wrapper-col":{span:19}},{default:c((()=>[m(l,{label:"字典编码",name:"dictCode"},{default:c((()=>[m(t,{value:p(g).dictCode,"onUpdate:value":a[0]||(a[0]=e=>p(g).dictCode=e),placeholder:"请输入编码"},null,8,["value"])])),_:1}),m(l,{label:"字典名称",name:"dictName"},{default:c((()=>[m(t,{value:p(g).dictName,"onUpdate:value":a[1]||(a[1]=e=>p(g).dictName=e),placeholder:"请输入名称"},null,8,["value"])])),_:1}),m(l,{label:"备注",name:"remark"},{default:c((()=>[m(d,{modelValue:p(g).remark,"onUpdate:modelValue":a[2]||(a[2]=e=>p(g).remark=e),style:{width:"100%",height:"100px",outline:"none"}},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["open","title"])}}});export{v as _};
