import{c as e,P as a,e as t,s as o,S as l}from"./index-CBkxY9s9.js";import{d as n,r as s,a as r,b2 as u,ag as i,o as c,bz as d,c as p,ai as m,J as f,u as g}from"./@vue-BVvo-xZd.js";const h={class:"smart-query-table-page"},v=n({__name:"message-receiver-modal",emits:["reloadList"],setup(n,{expose:v,emit:y}){const w={searchWord:null,keyword:null,pageNum:1,pageSize:e};s();const S=r({...w}),z=s([]);let _=s(!1);const x=s(0);function b(){N()}const C=s(!1);function k(){Object.assign(S,w),N()}function q(e){S.keyword=S.searchWord}const O=[{title:"姓名",dataIndex:"actualName",align:"center"},{title:"手机号",dataIndex:"phone",align:"center"}];async function N(){try{_.value=!0;let e=await t.queryEmployee(S);const a=e.data.list;x.value=e.data.total,z.value=a}catch(e){o.captureError(e)}finally{_.value=!1}}const I=s([]),U=s([]);function W(e,a){I.value=e,U.value=a}function j(){C.value=!1;let e=U.value.map((e=>e.actualName));E("reloadList",I.value,e)}const E=y;function P(){try{j()}catch(e){o.captureError(e)}finally{l.hide()}}return v({showModal:function(e){I.value=e,N(),C.value=!0}}),(e,t)=>{const o=u("a-input"),l=u("a-form-item"),n=u("SearchOutlined"),s=u("a-button"),r=u("ReloadOutlined"),v=u("a-row"),y=u("a-form"),w=u("a-table"),U=u("a-pagination"),E=u("a-modal");return c(),i(E,{open:C.value,"onUpdate:open":t[3]||(t[3]=e=>C.value=e),title:"推送人",width:"1100px","ok-text":"确定","cancel-text":"取消",onOk:P,onCancel:j,zIndex:9999},{default:d((()=>[p(y,{class:"smart-query-form"},{default:d((()=>[p(v,{class:"smart-query-form-row"},{default:d((()=>[p(l,{label:"关键词搜索",class:"smart-query-form-item"},{default:d((()=>[p(o,{value:S.searchWord,"onUpdate:value":t[0]||(t[0]=e=>S.searchWord=e),style:{width:"250px"},placeholder:"请输入姓名",onChange:q},null,8,["value"])])),_:1}),p(l,{class:"smart-query-form-item"},{default:d((()=>[p(s,{type:"primary",onClick:b},{icon:d((()=>[p(n)])),default:d((()=>[f(" 查询 ")])),_:1})])),_:1}),p(l,{class:"smart-query-form-item"},{default:d((()=>[p(s,{onClick:k},{icon:d((()=>[p(r)])),default:d((()=>[f(" 重置 ")])),_:1})])),_:1})])),_:1})])),_:1}),p(w,{rowKey:"employeeId",loading:g(_),columns:O,"data-source":z.value,bordered:"",pagination:!1,"row-selection":{selectedRowKeys:I.value,onChange:W}},null,8,["loading","data-source","row-selection"]),m("div",h,[p(U,{showSizeChanger:"",showQuickJumper:"","show-less-items":"",pageSizeOptions:g(a),defaultPageSize:S.pageSize,current:S.pageNum,"onUpdate:current":t[1]||(t[1]=e=>S.pageNum=e),pageSize:S.pageSize,"onUpdate:pageSize":t[2]||(t[2]=e=>S.pageSize=e),total:x.value,onChange:N,onShowSizeChange:N,"show-total":e=>`共${e}条`},null,8,["pageSizeOptions","defaultPageSize","current","pageSize","total","show-total"])])])),_:1},8,["open"])}}});export{v as _};
