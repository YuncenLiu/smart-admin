import{a as e}from"./vue-router-D-yLC68c.js";import t from"./notice-form-drawer-D7OAKYr4.js";import{_ as a}from"./notice-view-record-list.vue_vue_type_script_setup_true_lang-BIKovdr-.js";import{n as i}from"./notice-api-BS5_b2B9.js";import{S as l,s,a as r}from"./index-CBkxY9s9.js";import{F as o}from"./index-DVmSW_0l.js";import{d as u,r as n,e as m,b2 as p,b as d,o as c,c as v,bz as f,ag as j,ah as _,J as b,be as y,ai as h,F as g,b0 as w,u as k}from"./@vue-BVvo-xZd.js";import"./lodash-2VbGH-WW.js";import"./@ant-design-D2dl84QQ.js";import"./vue-Bbq_A2bw.js";import"./@ctrl-DlzbjsCp.js";import"./dayjs-B6vKC6dp.js";import"./index-DwfIiKZa.js";import"./@wangeditor-next-CoIDXbIU.js";import"./notice-form-visible-modal.vue_vue_type_script_setup_true_lang-Qy6bjgrV.js";import"./notice-form-visible-transfer-department-BXYZI4in.js";import"./department-api-Dth9G_6l.js";import"./notice-form-visible-transfer-employee-B5ZDBDwx.js";import"./ant-design-vue-CcohkicM.js";import"./@babel-rSvM8Ko2.js";import"./resize-observer-polyfill-OVnto9HH.js";import"./@emotion-DXlYAqfy.js";import"./stylis-YutRQeBK.js";import"./vue-types-Sy1fKJ9U.js";import"./dom-align-CCb293uS.js";import"./lodash-es-BgZ_dRTG.js";import"./async-validator-BTKOuuO-.js";import"./throttle-debounce-w9OM8Bxz.js";import"./index.vue_vue_type_script_setup_true_lang-Ca0kUvG5.js";import"./ua-parser-js-DNXwZhEt.js";import"./vue3-json-viewer-DGFKKWPN.js";import"./vue-i18n-CEbWPeBD.js";import"./@intlify-D18cTrFw.js";import"./pinia-CgN6MZDh.js";import"./axios-BlN9Xwzv.js";import"./crypto-js-TV0Ce7JK.js";import"./sm-crypto-CWaozmhJ.js";import"./jsbn-DBh4-X7k.js";import"./nprogress-CqoNXQnd.js";import"./mitt-CNZ6avp8.js";const x={class:"file-list"},I=["onClick"],z={class:"visible-list"},N=["innerHTML"],C=u({__name:"notice-detail",props:{newsType:{type:Number}},setup(r){const u=e(),C=n(1),F=n({}),T=n();async function L(){try{l.show();const e=await i.getUpdateNoticeInfo(u.query.noticeId);F.value=e.data}catch(e){s.captureError(e)}finally{l.hide()}}m((()=>{u.query.noticeId&&(L(),T.value.onSearch())}));const R=n();function V(){R.value.showModal(F.value.noticeId)}const q=n();return(e,i)=>{const l=p("a-button"),s=p("a-descriptions-item"),r=p("a-descriptions"),n=p("a-card"),m=p("a-tab-pane"),E=p("a-tabs");return c(),d(g,null,[v(n,{style:{"margin-bottom":"15px"},size:"small"},{default:f((()=>[v(r,{title:F.value.title,column:4,size:"small"},{extra:f((()=>[v(l,{type:"primary",size:"small",onClick:V},{default:f((()=>[b("编辑")])),_:1})])),default:f((()=>[v(s,{label:"分类"},{default:f((()=>[b(y(F.value.noticeTypeName),1)])),_:1}),v(s,{label:"文号"},{default:f((()=>[b(y(F.value.documentNumber?F.value.documentNumber:"无"),1)])),_:1}),v(s,{label:"来源"},{default:f((()=>[b(y(F.value.source),1)])),_:1}),v(s,{label:"作者"},{default:f((()=>[b(y(F.value.author),1)])),_:1}),v(s,{label:"页面浏览量"},{default:f((()=>[b(y(F.value.pageViewCount),1)])),_:1}),v(s,{label:"用户浏览量"},{default:f((()=>[b(y(F.value.userViewCount),1)])),_:1}),v(s,{label:"创建时间"},{default:f((()=>[b(y(F.value.createTime),1)])),_:1}),v(s,{label:"发布时间"},{default:f((()=>[b(y(F.value.publishTime),1)])),_:1}),v(s,{label:"发布状态"},{default:f((()=>[b(y(F.value.publishFlag?"已发布":"待发布"),1)])),_:1}),v(s,{label:"删除状态"},{default:f((()=>[b(y(F.value.deletedFlag?"已删除":"未删除"),1)])),_:1}),e.$lodash.isEmpty(F.value.attachment)?_("",!0):(c(),j(s,{key:0,label:"附件"},{default:f((()=>[h("div",x,[(c(!0),d(g,null,w(F.value.attachment,(e=>(c(),d("a",{class:"file-item",key:e.fileId,onClick:t=>{return a=e,void q.value.showPreview(a);var a}},y(e.fileName),9,I)))),128))])])),_:1})),v(s,{label:"可见范围"},{default:f((()=>[F.value.allVisibleFlag?(c(),d(g,{key:0},[b("全部可见")],64)):_("",!0),h("div",z,[(c(!0),d(g,null,w(F.value.visibleRangeList,(e=>(c(),d("div",{class:"visible-item",key:e.dataId},y(e.dataName),1)))),128))])])),_:1})])),_:1},8,["title"])])),_:1}),v(n,{size:"small"},{default:f((()=>[v(E,{activeKey:C.value,"onUpdate:activeKey":i[0]||(i[0]=e=>C.value=e),size:"small"},{default:f((()=>[(c(),j(m,{key:1,tab:"内容"},{default:f((()=>[h("div",{class:"content-html",innerHTML:F.value.contentHtml},null,8,N)])),_:1})),(c(),j(m,{key:2,tab:"查看记录","force-render":""},{default:f((()=>[v(a,{ref_key:"noticeViewRecordList",ref:T,noticeId:k(u).query.noticeId},null,8,["noticeId"])])),_:1})),(c(),j(m,{key:3,tab:"操作记录"}))])),_:1},8,["activeKey"])])),_:1}),v(t,{ref_key:"noticeFormDrawerRef",ref:R,onReloadList:L},null,512),v(o,{ref_key:"filePreviewRef",ref:q},null,512)],64)}}}),F=r(C,[["__scopeId","data-v-7b3e5d68"]]);export{F as default};
