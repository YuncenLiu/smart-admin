import{_ as e}from"./lodash-2VbGH-WW.js";import t from"./index-BO1x0V16.js";import{S as s,e as o,s as r,a as i}from"./index-CBkxY9s9.js";import{b as a}from"./ant-design-vue-CcohkicM.js";import{d as p,r as m,b2 as n,ag as l,o as d,bz as u,c as j,ai as c,J as f}from"./@vue-BVvo-xZd.js";import"./@ant-design-D2dl84QQ.js";import"./vue-Bbq_A2bw.js";import"./@ctrl-DlzbjsCp.js";import"./department-api-Dth9G_6l.js";import"./department-mitt-DFEu9DtT.js";import"./mitt-CNZ6avp8.js";import"./@babel-rSvM8Ko2.js";import"./resize-observer-polyfill-OVnto9HH.js";import"./@emotion-DXlYAqfy.js";import"./stylis-YutRQeBK.js";import"./vue-types-Sy1fKJ9U.js";import"./dom-align-CCb293uS.js";import"./lodash-es-BgZ_dRTG.js";import"./dayjs-B6vKC6dp.js";import"./async-validator-BTKOuuO-.js";import"./throttle-debounce-w9OM8Bxz.js";import"./vue3-json-viewer-DGFKKWPN.js";import"./vue-i18n-CEbWPeBD.js";import"./@intlify-D18cTrFw.js";import"./pinia-CgN6MZDh.js";import"./axios-BlN9Xwzv.js";import"./crypto-js-TV0Ce7JK.js";import"./sm-crypto-CWaozmhJ.js";import"./jsbn-DBh4-X7k.js";import"./nprogress-CqoNXQnd.js";import"./vue-router-D-yLC68c.js";const y={class:"footer"},v=i(p({__name:"index",emits:["refresh"],setup(i,{expose:p,emit:v}){const h=v,b=m(),g=m(!1),w=m([]);function x(){g.value=!1}async function _(){s.show();try{if(e.isEmpty(w.value))return void a.warning("请选择要调整的员工");if(e.isEmpty(b.value.selectedKeys))return void a.warning("请选择要调整的部门");let t=b.value.selectedKeys[0],s={employeeIdList:w.value,departmentId:t};await o.batchUpdateDepartmentEmployee(s),a.success("操作成功"),h("refresh"),x()}catch(t){r.captureError(t)}finally{s.hide()}}return p({showModal:async function(e){w.value=e,g.value=!0}}),(e,s)=>{const o=n("a-button"),r=n("a-modal");return d(),l(r,{open:g.value,"onUpdate:open":s[0]||(s[0]=e=>g.value=e),title:"调整部门",footer:null,destroyOnClose:""},{default:u((()=>[j(t,{ref_key:"departmentTree",ref:b,height:400,showMenu:!1},null,512),c("div",y,[j(o,{style:{"margin-right":"8px"},onClick:x},{default:u((()=>[f("取消")])),_:1}),j(o,{type:"primary",onClick:_},{default:u((()=>[f("提交")])),_:1})])])),_:1},8,["open"])}}}),[["__scopeId","data-v-6303c6de"]]);export{v as default};
