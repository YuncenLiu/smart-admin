import{s as a}from"./vue3-json-viewer-DGFKKWPN.js";import{p as e,b as s,S as t,s as l,a as o}from"./index-CBkxY9s9.js";import{d as n,r,a as u,b2 as i,ag as d,o as p,bz as c,ai as f,b as _,ah as g,c as m,J as b,be as v,u as y,aY as h,aW as j}from"./@vue-BVvo-xZd.js";const x={queryList:a=>e("/support/operateLog/page/query",a),detail:a=>s(`/support/operateLog/detail/${a}`),queryListLogin:a=>e("/support/operateLog/page/query/login",a)},O=a=>(h("data-v-0bf23916"),a=a(),j(),a),w={class:"info-box"},L=O((()=>f("p",{class:"detail-right-title"},"请求状态",-1))),q={class:"info-box"},I=O((()=>f("h4",null,"请求明细：",-1))),S={class:"info-box"},k=O((()=>f("h4",null,"请求参数：",-1))),E={key:0,class:"info-box"},P=O((()=>f("h4",null,"请求失败原因：",-1))),R=o(n({__name:"operate-log-detail-modal",setup(e,{expose:s}){s({show:function(a){o.value=!0,n(j),async function(a){try{t.show();let e=await x.detail(a);j=Object.assign(j,e.data)}catch(e){l.captureError(e)}finally{t.hide()}}(a)}});const o=r(!1);const n=a=>{const e=Object.keys(a);let s={};e.forEach((a=>{s[a]=""})),Object.assign(a,s)};function h(){o.value=!1}let j=u({param:"",url:""});return(e,s)=>{const t=i("a-col"),l=i("a-row"),n=i("a-typography-text"),r=i("a-modal");return p(),d(r,{open:o.value,title:"请求详情",width:"60%",footer:null,onCancel:h},{default:c((()=>[f("div",w,[m(l,{class:"smart-margin-top10"},{default:c((()=>[m(t,{span:16},{default:c((()=>[m(l,{class:"detail-info"},{default:c((()=>[m(t,{span:12},{default:c((()=>[b(" 请求url： "+v(y(j).url),1)])),_:1}),m(t,{span:12},{default:c((()=>[b(" 请求日期： "+v(y(j).createTime),1)])),_:1})])),_:1}),m(l,{class:"detail-info"},{default:c((()=>[m(t,{span:12},{default:c((()=>[b(" 请求IP： "+v(y(j).ip),1)])),_:1}),m(t,{span:12},{default:c((()=>[b(" IP地区： "+v(y(j).ipRegion),1)])),_:1})])),_:1}),m(l,{class:"detail-info"},{default:c((()=>[m(t,{span:12},{default:c((()=>[b(" 用户id："+v(y(j).operateUserId),1)])),_:1}),m(t,{span:12},{default:c((()=>[b(" 用户名称： "+v(y(j).operateUserName),1)])),_:1})])),_:1})])),_:1}),m(t,{span:8},{default:c((()=>[L,m(n,{class:"detail-right",type:y(j).successFlag?"success":"danger"},{default:c((()=>[b(v(y(j).successFlag?"成功":"失败"),1)])),_:1},8,["type"])])),_:1})])),_:1})]),f("div",q,[I,m(t,{span:24},{default:c((()=>[b(" 方法： "+v(y(j).method),1)])),_:1}),m(t,{span:24},{default:c((()=>[b(" 说明： "+v(y(j).module)+" - "+v(y(j).content),1)])),_:1})]),f("div",S,[k,m(y(a),{value:y(j).param?JSON.parse(y(j).param):"",theme:"jv-dark",copyable:"",boxed:"",sort:""},null,8,["value"])]),y(j).failReason?(p(),_("div",E,[P,f("div",null,v(y(j).failReason),1)])):g("",!0)])),_:1},8,["open"])}}}),[["__scopeId","data-v-0bf23916"]]),z=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"}));export{R as O,z as a,x as o};
